<form class="{{cssClass}} mainItem" autocomplete="off">
    {{> "systems/arm5e/templates/item/parts/item-header.html" }}
    <header class="sheet-header">
        <img class="item-img" src="{{item.img}}" data-edit="img" title="{{item.name}}" />
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Name" /></h1>
            <div class="resource flexcol flexrow">
                <input type="text" name="data.enchantmentName" value="{{data.enchantmentName}}">
            </div>
            <div class="grid grid-col">
                <div class="resource flexcol flexrow">
                    <h3>
                        {{#with (lookup metadata.magic.techniques data.technique.value)}}
                            {{localize label }}
                        {{/with}}
                        {{#with (lookup metadata.magic.forms data.form.value)~}}
                            {{localize label~}}
                        {{/with}}
                        {{data.level}}
                    </h3>
                </div>


                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.uses"}}</label>
                    <input type="text" name="data.uses" value="{{data.uses}}" data-dtype="Number" />
                </div>

            </div>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="arm5eTabs sheet-tabs tabs" data-group="primary">
        <a class="item posRelative" data-tab="description">
            <div class="navItem-right-ball"><img src="/systems/arm5e/assets/bLeft.png" /></div>
            <div class="navItem-left-ball"><img src="/systems/arm5e/assets/bRight.png" /></div>
            {{localize "arm5e.sheet.description"}}
        </a>
        <a class="item posRelative" data-tab="attributes">
            <div class="navItem-right-ball"><img src="/systems/arm5e/assets/bLeft.png" /></div>
            <div class="navItem-left-ball"><img src="/systems/arm5e/assets/bRight.png" /></div>
            {{localize "arm5e.sheet.effect"}}
        </a>
        <a class="item posRelative" data-tab="enchantment">
            <div class="navItem-right-ball"><img src="/systems/arm5e/assets/bLeft.png" /></div>
            <div class="navItem-left-ball"><img src="/systems/arm5e/assets/bRight.png" /></div>
            {{localize "arm5e.lab.enchantment.label"}}
        </a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Attributes Tab --}}
        <div class="tab attributes" data-group="primary" data-tab="attributes">
            <div class="grid grid-3col">
                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.range"}}</label>
                    {{#with (lookup metadata.magic.ranges data.range.value)~}}
                        <input type="text" name="data.range" value="{{localize label}}" readonly>
                    {{/with}}
                </div>
                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.duration"}}</label>
                    {{#with (lookup metadata.magic.durations data.duration.value)~}}
                        <input type="text" name="data.duration" value="{{localize label}}" readonly>
                    {{/with}}
                </div>
                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.target"}}</label>
                    {{#with (lookup metadata.magic.targets data.target.value)~}}
                        <input type="text" name="data.target" value="{{localize label}}" readonly>
                    {{/with}}
                </div>
                {{> "systems/arm5e/templates/item/parts/magic-item.html" }}
            </div>



        </div>
        <div class="tab enchantment" data-group="primary" data-tab="enchantment">
            {{> "systems/arm5e/templates/item/parts/enchantment.html" }}
        </div>

        {{!-- Description Tab --}}
        <div class="tab" data-group="primary" data-tab="description">
            <div class="grid grid-3col">
                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.creator"}}</label>
                    <input type="text" name="data.creator" value="{{data.creator}}" data-dtype="String" />
                </div>
                <div class="resource">
                    <label for="data.season" class="header-label">{{localize "arm5e.sheet.season"}}</label>
                    <select name="data.season" data-type="String" style="width: 100%">
                        {{#select data.season}}
                            {{#each metadata.seasons as |season key|}}
                                <option value="{{key}}">{{localize season.label}}</option>
                            {{/each}} {{/select}}
                    </select>
                </div>
                <div class="resource">
                    <label class="header-label">{{localize "arm5e.sheet.year"}}</label>
                    <input type="text" name="data.year" value="{{data.year}}" data-dtype="String" />
                </div>
            </div>
            <div class="resource">
                <label class="header-label">{{localize "arm5e.sheet.description"}}</label>
            </div>
            {{editor content=data.description target="data.description" button=true owner=owner editable=editable}}
            {{#if (eq metagame true)}}
                {{> "systems/arm5e/templates/generic/source.html" }}
            {{/if}}
        </div>

    </section>
    {{> "systems/arm5e/templates/item/parts/item-footer.html" }}
</form>